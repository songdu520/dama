<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #mycanvas {
            display: block;
            margin: 0 auto;
            background-color: #eee;
        }
    </style>
    <script>
        window.onload = function() {
            let mycanvas = document.getElementById('mycanvas');
            let ctx = mycanvas.getContext('2d');

            function clock() {
                // 获取当前时间
                let now = new Date();
                let h = now.getHours(); // 0-23
                let m = now.getMinutes(); // 0-59
                let s = now.getSeconds(); // 0-59

                // 将24小时时间转换成12小时时间
                h = h + (m / 60);
                h = h > 12 ? h - 12 : h;

                ctx.clearRect(0, 0, mycanvas.width, mycanvas.height); // 绘画之前清空画布

                // 大圆
                ctx.beginPath();
                ctx.arc(250, 250, 200, 0, 2 * Math.PI);
                ctx.lineWidth = 8;
                ctx.stroke();
                ctx.closePath();

                // 时刻度线
                for (let i = 0; i < 12; i++) {
                    ctx.save();
                    ctx.strokeStyle = "blue";
                    ctx.lineWidth = 7;
                    ctx.translate(250, 250); // 位移 将画布中心点设置成绘制初始点
                    ctx.rotate(Math.PI / 180 * i * 30); // 旋转
                    ctx.beginPath();
                    ctx.moveTo(0, -180);
                    ctx.lineTo(0, -195);
                    ctx.stroke();
                    ctx.closePath();
                    ctx.restore();
                }

                // 分刻度线
                for (let i = 0; i < 60; i++) {
                    ctx.save();
                    ctx.strokeStyle = "blue";
                    ctx.lineWidth = 5;
                    ctx.translate(250, 250); // 位移 将画布中心点设置成绘制初始点
                    ctx.rotate(Math.PI / 180 * i * 6); // 旋转
                    ctx.beginPath();
                    ctx.moveTo(0, -185);
                    ctx.lineTo(0, -195);
                    ctx.stroke();
                    ctx.closePath();
                    ctx.restore();
                }


                // 绘制时针
                ctx.save();
                ctx.strokeStyle = "black";
                ctx.lineWidth = 7;
                ctx.translate(250, 250);
                ctx.rotate(Math.PI / 180 * (30 * h));
                ctx.beginPath();
                ctx.moveTo(0, -140);
                ctx.lineTo(0, 10);
                ctx.stroke();
                ctx.closePath();
                ctx.restore();

                // 分针绘制
                ctx.save();
                ctx.strokeStyle = "black";
                ctx.lineWidth = 5;
                ctx.translate(250, 250);
                ctx.rotate(Math.PI / 180 * (6 * m));
                ctx.beginPath();
                ctx.moveTo(0, -150);
                ctx.lineTo(0, 10);
                ctx.stroke();
                ctx.closePath();
                ctx.restore();

                // 秒针绘制
                ctx.save();
                ctx.strokeStyle = "red";
                ctx.lineWidth = 3;
                ctx.translate(250, 250);
                ctx.rotate(Math.PI / 180 * (6 * s));
                ctx.beginPath();
                ctx.moveTo(0, -160);
                ctx.lineTo(0, 10);
                ctx.stroke();
                ctx.closePath();
                ctx.restore();
            }

            clock();

            setInterval(clock, 1000);
        }
    </script>
</head>

<body>
    <canvas id="mycanvas" width="500" height="500"></canvas>
</body>

</html>